(function(){

    var globalConfig = {"vendors":{"fs":{"selfHosted":true,"codeVer":"19.14.10-fs","siteKey":"cdc","gateway":"gateway.foresee.com","configLocation":"gateway.foresee.com/sites/cdc","integrityHashLocation":null}}};
    
    var productConfig = { fs: {} };
    
    function getProductConfig(e,t){return productConfig[e]?productConfig[e][t]:void 0}function getVendorProducts(e){return productConfig[e]}function setProductConfig(e,t,r){productConfig[e]||(productConfig[e]={}),productConfig[e][t]=JSON.parse(JSON.stringify(r))}function getVendorConfig(e){return globalConfig.vendors||(globalConfig.vendors={}),globalConfig.vendors[e]||(globalConfig.vendors[e]={}),globalConfig.vendors[e]}function setVendorConfig(e,t){globalConfig.vendors||(globalConfig.vendors={}),globalConfig.vendors[e]=JSON.parse(JSON.stringify(t))}var _W=window,_D=_W.document,supportsDomStorage=!!_W.sessionStorage,_HD=_D.getElementsByTagName("head"),localStorage=_W.localStorage,sessionStorage=_W.sessionStorage;_HD=_HD&&_HD.length>0?_HD[0]:_D.body;try{supportsDomStorage&&(sessionStorage.setItem("_",""),sessionStorage.removeItem("_"))}catch(e){supportsDomStorage=!1}var op=Object.prototype,hasOwn=op.hasOwnProperty,hasProp=function(e,t){return hasOwn.call(e,t)},eachProp=function(e,t){var r;for(r in e)if(hasProp(e,r)&&t(e[r],r))break},isDefined=function(e){return null!=e},isFunction=function(e){return"function"==typeof e},isObject=function(e){return"object"==typeof e},isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)},isNodeList=function(e){return"[object NodeList]"==Object.prototype.toString.call(e)},isDate=function(e){return e instanceof Date},isString=function(e){return"string"==typeof e},isElement=function(e){return e&&e.nodeType&&(1==e.nodeType||11==e.nodeType||9==e.nodeType)},isPlainObject=function(e){if(!e||"[object Object]"!==Object.prototype.toString.call(e)||e.nodeType||e.setInterval)return!1;if(e.constructor&&!hasOwnProperty.call(e,"constructor")&&!hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1;var t,r=!0;for(t in e)(!r||void 0===t||hasOwnProperty.call(e,t)||!hasOwnProperty.call(e,t)&&hasOwnProperty.call(Object.prototype,t))&&(r=!1);return r},proxy=function(e,t){return e.bind(t)},dispose=function(e){if(e){if(e.length)for(var t=e.length-1;t>=0;t--)e[t]=null;for(var r in e){var o=typeof e[r];"function"!=o&&"object"!=o||(e[r]=null)}}e=null},getParam=function(e){var t={};_W.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,r,o){t[r]=o});var r=t[e];return r?decodeURIComponent(r):r},getQueryString=function(e){var t={};_W.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,r,o){o.indexOf("#")>-1?t[r]=o.substring(0,o.indexOf("#")):t[r]=o});var r=t[e];return r?decodeURIComponent(r):r},nextTick=function(e){return setTimeout(e,0)};function ext(){var e,t,r,o=arguments,n=o[0]||{},i=1,a=o.length,s=!1===arguments[arguments.length-1];for("object"!=typeof n&&"function"!=typeof n&&(n={}),a===i&&(n=this,--i);i<a;i++)if(void 0!==(e=o[i]))for(t in e)n!==(r=e[t])&&void 0!==r&&(r instanceof Array?r=r.slice(0):r instanceof Date?r=new Date(r.getTime()):null===r?r=null:"object"!=typeof r||s||(r=ext({},r)),n[t]=r);return n}var diff=function e(t,r,o){o=o||[];var n,i={};for(var a in t)if((n=t[a])!==t&&void 0!==n&&(!isDefined(r[a])||n!==r[a]))if(isObject(n)&&!isArray(n)){if(o.some(function(e){return e===this},n))continue;o.push(n);var s=e(n,r[a],o);isDefined(s)&&(!s.length||s.length>0)&&(i[a]=s),o.pop()}else i[a]=n;return i},attr=function(e,t,r){return isDefined(r)&&e.setAttribute(t,r),e&&e.getAttribute?e.getAttribute(t):null},toQueryString=function(e,t){var r,o=isDefined(t)?t+(t.indexOf("?")>-1?"&":"?"):"";if(e)for(var n in e)r=e[n],isString(r)||(r=JSON.stringify(r)),o+=encodeURIComponent(n)+"="+encodeURIComponent(r)+"&";return o};function trimDots(e){var t,r;for(t=0;t<e.length;t++)if("."===(r=e[t]))e.splice(t,1),t-=1;else if(".."===r){if(0===t||1==t&&".."===e[2]||".."===e[t-1])continue;t>0&&(e.splice(t-1,2),t-=2)}}var compute=function(e){return new[].constructor.constructor(e).call(_W)},toLowerCase=function(e){return isString(e)?e.toLowerCase():""},API={_enforceGlobalNS:function(){_W.FSR||(_W.FSR={}),_W.FSFB||(_W.FSFB={})},expose:function(e,t){API._enforceGlobalNS(),"clearState"!==e&&"clearStateFeedback"!==e||(t=interceptClearState(t)),_W.FSR[e]=_W.FSFB[e]=t},retrieveFromAPI:function(e){return API._enforceGlobalNS(),_W.FSR[e]}},interceptions=[];function addClearStateIntercept(e){interceptions.push(e)}function interceptClearState(e){return function(){for(var t=0;t<interceptions.length;t++)interceptions[t]();e()}}var domReady=function(t){var r,o=[],n=document,i=n.documentElement,a=i.doScroll,s=(a?/^loaded|^c/:/^loaded|c/).test(n.readyState);function l(e){s=1;do{(e=o.shift())&&e()}while(e)}return n.addEventListener&&n.addEventListener("DOMContentLoaded",r=function(){n.removeEventListener("DOMContentLoaded",r,!1),l()},!1),a&&n.attachEvent("onreadystatechange",r=function(){/^c/.test(n.readyState)&&(n.detachEvent("onreadystatechange",r),l())}),t=a?function(r){self!=top?s?r():o.push(r):function(){try{i.doScroll("left")}catch(e){return setTimeout(function(){t(r)},50)}r()}()}:function(e){s?e():o.push(e)}}();function featureFlag(e,t){var globalConfig=getVendorConfig("fs");if((t=t||{}).after=t.after||function(){},!e)return t.after(),null;if(!globalConfig.featureFlags)return t.after(),null;var r=globalConfig.featureFlags[e];return"boolean"!=typeof r?(t.after(),null):r&&"function"==typeof t.on?(t.on(t.after),t.on.length<1&&t.after(),r):r||"function"!=typeof t.off?void 0:(t.off(t.after),t.off.length<1&&t.after(),r)}var fsCmd=function(e){var t=(""+location.hash).toLowerCase();return e=(e||"").toLowerCase(),!!(/fscommand|fscmd|acscmd|acscommand/.test(t)&&t.indexOf(e)>-1)},PromisePolyfill=function(){function t(){}function r(e){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function o(t,r){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,nextTick(function(){var o=1===t._state?r.onFulfilled:r.onRejected;if(null!==o){var a;try{a=o(t._value)}catch(e){return void i(r.promise,e)}n(r.promise,a)}else(1===t._state?n:i)(r.promise,t._value)})):t._deferreds.push(r)}function n(t,o){try{if(o===t)throw new TypeError("A promise cannot be resolved with itself.");if(o&&("object"==typeof o||"function"==typeof o)){var n=o.then;if(o instanceof r)return t._state=3,t._value=o,void a(t);if("function"==typeof n)return void l((s=n,c=o,function(){s.apply(c,arguments)}),t)}t._state=1,t._value=o,a(t)}catch(e){i(t,e)}var s,c}function i(e,t){e._state=2,e._value=t,a(e)}function a(e){2===e._state&&0===e._deferreds.length&&nextTick(function(){e._handled||r._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function s(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function l(e,t){var r=!1;try{e(function(e){r||(r=!0,n(t,e))},function(e){r||(r=!0,i(t,e))})}catch(o){if(r)return;r=!0,i(t,o)}}return r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,r){var n=new this.constructor(t);return o(this,new s(e,r,n)),n},r.prototype.finally=function(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){return t.reject(r)})})},r.all=function(e){return new r(function(t,r){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);var n=o.length;function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){i(e,t)},r)}o[e]=a,0==--n&&t(o)}catch(l){r(l)}}for(var a=0;a<o.length;a++)i(a,o[a])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,r){r(e)})},r.race=function(e){return new r(function(t,r){for(var o=0,n=e.length;o<n;o++)e[o].then(t,r)})},r._unhandledRejectionFn=function(e){},r}(),MaybeNativePromise=_W.Promise||PromisePolyfill,isIE=/MSIE |Trident/.test(window.navigator.userAgent),Promise=isIE?PromisePolyfill:MaybeNativePromise;function __eB(e,t,r){e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r)}var winload=function(e){"complete"===_D.readyState?nextTick(e):__eB(_W,"load",e)},globalConfig$1=getVendorConfig("fs"),assetLocation=null,codeLocation=null,embedAttrs=null,gwConfigOverride=null,hasSSL=null,home=null,isProduction=null,isSelfHosted=null,makeAssetURI=null,makeURI=null,startTS=_W.performance&&_W.performance.timing?_W.performance.timing.responseStart:(new Date).getTime(),tagVersion=globalConfig$1.codeVer||"";function locatorUpdate(e){var globalConfig=getVendorConfig("fs");assetLocation=e.assetOverride,codeLocation=e.rootOverride,embedAttrs=e.tagAttrs,gwConfigOverride=e.productCfgOverride,hasSSL=e.hasSSL,home=e.gatewayLocation,isProduction=e.isProduction,isSelfHosted=e.isSelfHosted,makeAssetURI=e.normalizeAssetUrl,makeURI=e.normalizeUrl,tagVersion=globalConfig.codeVer||""}function resetStartTS(){startTS=(new Date).getTime()}function getNested(e,t,r){void 0===r&&(r=!1);for(var o=t.split("."),n=1,i=e,a=o.length,s=o[0];n<a&&(i=i[s]);)s=o[n++],isArray(i)&&!isNaN(parseFloat(s))&&isFinite(s)&&(s=+s);if(n!==a||!i){if(r)return;throw new Error("Can't find config: "+o.slice(0,n).join("."))}return{obj:i,key:s}}var keyStorage="_4c_",key4CStorageLegacy="_4c_",key4CStorage="_4c_s_",key4CMicroStorage="_4c_mc_",key4CEnableStorage="_4c_es_",key4CReservedKeyNames=[key4CStorage,key4CMicroStorage,key4CEnableStorage],checkIfLegacy4CCookie=function(e){return!!e.getByCookieName("_4c_")&&key4CReservedKeyNames.every(function(t){return!e.getByNestedCookieName(t)})},globalState={stg:null,browser:null,tracker:null,onProductQualified:null,onProductsDisqualified:null,cpps:null,qamodeCallback:null,ckie:null,trigger:{},feedback:{}};function initializeGlobalState(e){var t=e.Browser,r=e.getGeneralStorage,o=e.CPPS,n=e.Cookie,i=e.FSEvent;globalState.browser=new t,globalState.stg=r(globalState.browser),globalState.cpps=new o(globalState.stg),globalState.ckie=new n({path:"/",secure:!1,encode:!0}),globalState.onProductQualified=new i,globalState.onProductsDisqualified=new i,globalState.trigger={__apiReady:new i,loadedEmitter:new i,initializedEmitter:new i,inviteShownEmitter:new i,inviteAcceptedEmitter:new i,inviteAbandonedEmitter:new i,inviteDeclinedEmitter:new i,trackerShownEmitter:new i,customInvitationRequested:new i,CPPS:null,jrny:null,browser:null,stg:null,_triggerResetLock:null,state:{didInvite:!1,inviteSuppressed:!1,inviteStatus:null,reason:null},inviteSetup:null},globalState.feedback={__apiReady:new i,onFeedbackSubmitted:new i,onFeedbackReady:new i,onFeedbackShown:new i,onFeedbackClosed:new i,onModalCssRetrieved:new i,stg:null,browser:null,CPPS:null,pageResetFn:null},globalState.onRecordQualified=new i}var dec=decodeURIComponent,enc=encodeURIComponent,QA_CONFIG_OVERRIDE="fsrQAConfig",CSSprefix="verint-sdk",fs=Object.freeze({dec:dec,enc:enc,QA_CONFIG_OVERRIDE:QA_CONFIG_OVERRIDE,CSSprefix:CSSprefix,getVendorConfig:getVendorConfig,getProductConfig:getProductConfig,getVendorProducts:getVendorProducts,setVendorConfig:setVendorConfig,setProductConfig:setProductConfig,API:API,addClearStateIntercept:addClearStateIntercept,domReady:domReady,featureFlag:featureFlag,fsCmd:fsCmd,Promise:Promise,get supportsDomStorage(){return supportsDomStorage},localStorage:localStorage,sessionStorage:sessionStorage,_W:_W,_D:_D,winReady:winload,get assetLocation(){return assetLocation},get codeLocation(){return codeLocation},get embedAttrs(){return embedAttrs},get gwConfigOverride(){return gwConfigOverride},get hasSSL(){return hasSSL},get home(){return home},get isProduction(){return isProduction},get isSelfHosted(){return isSelfHosted},get makeAssetURI(){return makeAssetURI},get makeURI(){return makeURI},resetStartTS:resetStartTS,get startTS(){return startTS},get tagVersion(){return tagVersion},attr:attr,compute:compute,diff:diff,dispose:dispose,eachProp:eachProp,ext:ext,getParam:getParam,getQueryString:getQueryString,hasProp:hasProp,isArray:isArray,isDate:isDate,isDefined:isDefined,isElement:isElement,isFunction:isFunction,isNodeList:isNodeList,isObject:isObject,isPlainObject:isPlainObject,isString:isString,nextTick:nextTick,proxy:proxy,toLowerCase:toLowerCase,toQueryString:toQueryString,getNested:getNested,key4CStorage:key4CStorage,key4CStorageLegacy:key4CStorageLegacy,key4CMicroStorage:key4CMicroStorage,key4CEnableStorage:key4CEnableStorage,keyStorage:keyStorage,key4CReservedKeyNames:key4CReservedKeyNames,checkIfLegacy4CCookie:checkIfLegacy4CCookie,globalState:globalState}),Module=function(){function e(e){var t=this;this.name=e,this.promise=new Promise(function(e){return t._resolve=e}),this._loaded=!1}var t=e.prototype;return t.resolve=function(e){this._resolve&&(this._resolve(e),this._resolve=null,this._loaded=!0)},t.isResolved=function(){return!this._resolve},t.load=function(){var e=this;if(!(this._loaded||this.name.indexOf("/")<0)){this._loaded=!0;var t=_D.createElement("script");return t.type="text/javascript",t.charset="utf-8",t.async=!0,t.setAttribute("data-name",this.name),new Promise(function(r,o){var n=function(){a(),r()},i=function(){a(),o(new Error("Foresee WebSDK failed to load: "+e.name))};function a(){t.removeEventListener("load",n,!1),t.removeEventListener("error",i,!1),t.parentNode.removeChild(t)}t.addEventListener("load",n,!1),t.addEventListener("error",i,!1),t.src=e.name,_HD.appendChild(t)})}},e}(),Registry=function(){function e(){this._modules={},this._pending=[]}var t=e.prototype;return t.require=function(e,t){for(var r=[],o=0;o<e.length;o++)if("exports"===e[o])r.push({});else{var n=this._getModule(e[o]);r.push(n.promise),this._load(n)}if(t)return Promise.all(r).then(function(e){nextTick(function(){return t.apply(_W,e)})})},t.define=function(e,t,r){var o=this;isFunction(t)&&(r=t),isArray(e)&&(t=e,e=null);var n=new Promise(function(e){o.require(t,function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];nextTick(function(){return e(o._run(r,n))})})});this._register(e,n)},t._getModule=function(e){return this._modules[e]=this._modules[e]||new Module(e),this._modules[e]},t._register=function(e,t){if(!e){var r=_D.currentScript;if(!r)return void this._pending.push(t);e=r.getAttribute("data-name")}this._getModule(e).resolve(t)},t._run=function(e,t){var r=e.apply(_W,t);return r&&r.startup&&r.startup(),r},t._load=function(e){var t=this,r=e.load();r&&r.then(function(){e.isResolved()||t._legacyLoad(e)}).catch(function(e){})},t._legacyLoad=function(e){if(!(this._pending.length<1)){var t=this._pending.shift();this._register(e.name,t)}},e}(),registry=new Registry,_fsDefine=registry.define.bind(registry),_fsRequire=registry.require.bind(registry);_fsDefine("define",function(){return _fsDefine}),_fsDefine("require",function(){return _fsRequire}),_W._fsDefine=_W._acsDefine=_fsDefine,_W._fsRequire=_W._acsRequire=_fsRequire;var locator={},currentScript=_D.currentScript,skipInit=!1;function reset(){skipInit=!1,locator.environment="production",locator.isSelfHosted=!1,locator.hasSSL=!0,locator.assetOverride=void 0,locator.rootOverride=void 0,locator.tagAttrs={},locator.gatewayLocation="",locator.isProduction=!1,locator.productCfgOverride=null,locator.gwScript=null,locatorUpdate(locator)}function subtractFromURL(e,t){var r=e.substr(0,e.indexOf("//"))+"//",o=e.substr(r.length),n=o.substr(o.indexOf("/")+1),i=n.substr(n.lastIndexOf("/")+1);n=n.substr(0,n.length-i.length-1),o=o.substr(0,o.indexOf("/"));var a=n.split("/");return a.length-=Math.min(a.length,t),(r+o+"/"+a.join("/")+i).replace(/\/\/\//g,"//")}locator.normalizeUrl=function(e){var globalConfig=getVendorConfig("fs");e=e.replace("foresee/","trigger/");var t,r=locator.gatewayLocation||"";if(e.indexOf("v=")>-1)return e;if("$"==e.substr(0,1)){if(locator.rootOverride){var o="/";return"/"===locator.rootOverride[locator.rootOverride.length-1]&&(o=""),e.replace("$",""+locator.rootOverride+o)}return t="code/"+globalConfig.codeVer+"/"+e.replace("$",""),"/"==r?r+t:subtractFromURL(r,3)+t}return-1==e.indexOf("//")&&(e="/"==r.substr(r.length-1,1)&&"/"==e.substr(0,1)?r+e.substr(1):r+e),e},locator.normalizeAssetUrl=function(e){return locator.assetOverride?"/"===e.substr(0,1)?locator.assetOverride+e.substr(1):locator.assetOverride+e:locator.normalizeUrl(e)},locator.locateGW=function(){var e,t,r,o,n,i,a,s,l,c,f,globalConfig=getVendorConfig("fs"),d="/";if(_HD&&(skipInit="true"==attr(_HD,"data-skipfsinit"),r=attr(_HD,"data-fsgatewaylocparam"),o=attr(_HD,"data-codeversion"),n=attr(_HD,"data-analyticsurl"),i=attr(_HD,"data-surveyurl"),a=attr(_HD,"data-product-assets"),s=attr(_HD,"data-codelocation"),l=attr(_HD,"data-productconfig"),c=attr(_HD,"data-isselfhosted"),f=attr(_HD,"data-hasssl"),r&&(r=getParam(r)),locator.isSelfHosted=!1,c&&(locator.isSelfHosted="true"==getParam(c)),locator.hasSSL=!0,f&&(locator.hasSSL="true"==getParam(f)||"false"),s&&(locator.rootOverride=getParam(s)),a&&(locator.assetOverride=getParam(a),"undefined"===locator.assetOverride&&(locator.assetOverride=void 0)),l&&(locator.productCfgOverride=getParam(l)),o&&(globalConfig.codeVer=getParam(o)),n&&(globalConfig.analyticsUrl=getParam(n)),i&&(globalConfig.surveyUrl=getParam(i))),("string"!=typeof globalConfig.siteKey||globalConfig.siteKey.length<1)&&(globalConfig.siteKey=getParam("sitekey")),currentScript)e=currentScript;else{var u=_D.getElementsByTagName("script");if(eachProp(u,function(r,o){if("length"!==o){t=attr(r,"src")||"";var n=attr(r,"data-vendor");"fs"!=n&&"acs"!=n||"gateway"!=attr(r,"data-role")||(e=r)}}),!e)throw new Error('FSR: No script tag has been found. Expected is a script tag with the following attributes:  data-vendor="fs"  data-role="gateway"  src="[a_path_leading_to]/gateway[.min].js". Aborting loading.')}for(var g=0;g<e.attributes.length;g++){var p=e.attributes[g];locator.tagAttrs[p.name]=p.value}if(locator.gwScript=e,t=r||attr(e,"src"),locator.environment=attr(e,"data-environment")||locator.environment,locator.rootOverride=attr(e,"data-codelocation")||locator.rootOverride,locator.assetOverride=attr(e,"data-product-assets")||locator.assetOverride,locator.isSelfHosted=attr(e,"data-isselfhosted")?"true"==attr(e,"data-isselfhosted"):locator.isSelfHosted,locator.hasSSL=attr(e,"data-hasssl")||locator.hasSSL,-1==t.indexOf(":/")&&t.substr(0,1)!=d){var _=(""+_W.location.href).split(d);_[_.length-1].indexOf(".")>-1&&_[_.length-1].toLowerCase()!=_W.location.hostname.toLowerCase()&&_.pop(),t=_.join(d)+(t.substr(0,1)==d?"":d)+t}(t=t.split(d)).pop(),trimDots(t),locator.gatewayLocation=t.join(d)+d,locator.isProduction=locator.gatewayLocation.toLowerCase().indexOf("production")>-1,locator.rootOverride&&locator.rootOverride.substr(locator.rootOverride.length-1)!=d&&(locator.rootOverride+=d),locator.assetOverride&&locator.assetOverride.substr(locator.assetOverride.length-1)!=d&&(locator.assetOverride+=d),locatorUpdate(locator)},reset();var _fsNormalizeUrl=locator.normalizeUrl;function dynamicConfigReplacer(e){return"object"==typeof e&&eachProp(e,function(t,r){if("object"==typeof t&&null!=t)if("variable"===t.source&&isDefined(t.default)&&isDefined(t.path)){var o=getNested(_W,t.path,!0),n=o&&o.obj[o.key];if(isDefined(n)&&null!==n){if("function"==typeof n||"object"==typeof n)throw new Error("Cannot replace config setting "+r+" with path "+t.path+" with a "+typeof n);switch(typeof t.default){case"string":n=escapeHTML(String(n));break;case"number":n=parseFloat(n);break;case"boolean":n="false"!==String(n)&&Boolean(n);break;default:throw new Error("Default for "+r+" replaced with path "+t.path+" is invalid type "+typeof t.default)}e[r]=n}else e[r]=t.default}else dynamicConfigReplacer(t)}),e}_W._fsNormalizeUrl=_W._acsNormalizeUrl=locator.normalizeUrl,_W._fsNormalizeAssetUrl=locator.normalizeAssetUrl,_fsDefine("fs",function(){return fs}),_fsDefine("_acs",function(){return fs});var htmlEscapeRegex=/[&<>"']/g,htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function escapeHTML(e){return htmlEscapeRegex.test(e)?e.replace(htmlEscapeRegex,function(e){return htmlEscapes[e]}):e}function shouldLoadQAMode(){var e=supportsDomStorage&&sessionStorage.getItem(QA_CONFIG_OVERRIDE);return!!(fsCmd("qamode")||getParam("fsr-qa-mode")||e)}var RemoveFingerprints=function(e,t){var r=["_fsrFP_","_fsPRINT_"];if(t)for(var o=0;o<r.length;o++)t.kill(r[o]);e._data.keys.cp&&e._data.keys.cp.v&&delete e._data.keys.cp.v.fp};function runStorageUpgradeIfNeeded(e,t,r,o){var n=e.ckie,i=["fsr.r","fsr.s","_fsspl_","fsr.t","acs.t"],a=!1;if(n){for(var s=0;s<i.length;s++)if(n.getByCookieName(i[s])){a=!0;break}var l=!a&&!!checkIfLegacy4CCookie(n);a||(a=l);var c=e.pers===t.MC||e.pers===t.MC_Hybrid;if(!a&&c)a=!!n.getByNestedCookieName(key4CStorage);var f=e.pers==t.CK||e.pers==t.DS||e.pers==t.CK_Hybrid;if(!a&&f)a=!!n.getByNestedCookieName(key4CMicroStorage)}RemoveFingerprints(e,n),a?_W._fsRequire([makeURI("$fs.storageupgrade.js")],function(i){i(e,n,o,{storageTypes:t,_brainStorage:r,browser:e.browser})}):nextTick(o)}var clearState=function(){var e=globalState.stg,t=globalState.tracker;t&&t._heartbeat&&clearInterval(t._heartbeat),e&&e.ckie&&e.ckie.kill(key4CEnableStorage),supportsDomStorage&&(localStorage.removeItem(key4CEnableStorage),sessionStorage.removeItem(key4CEnableStorage),sessionStorage.removeItem("acsFeedbackSubmitted")),e.reset()},getConfigFormatted=function(){var e=getProductConfig("fs","trigger");if(console&&console.info&&(console.info("************************** Trigger Configuration **************************"),console.info("Config: ",e.config),e.surveydefs&&e.surveydefs.length)){console.info("************************** Surveydefs Configuration **************************");for(var t=0;t<e.surveydefs.length;t++)console.info("************************** Surveydef "+(t+1)+" **************************"),console.info("Config: ",e.surveydefs[t])}},getConfig=function(t,r){var globalConfig=getVendorConfig("fs");if(r||"function"!=typeof t||(r=t,t=!1),!t){var o=ext({},getProductConfig("fs","trigger"),{global:globalConfig});return r?r(o):o}if("global"===t)return r?r(globalConfig):globalConfig;var n=t.indexOf("."),i=n>-1?t.substring(0,n):"fs",a=t.substring(n+1);try{var s=getProductConfig(i,a)||getVendorConfig(t);return r?r(s):s}catch(e){}return r?r({}):{}},CPPS={set:function(e,t){globalState.cpps.set(e,t)},get:function(e,t){(t=t||console.log)(globalState.cpps.get(e))},erase:function(e,t){(t=t||console.log)(globalState.cpps.erase(e))},append:function(){globalState.cpps.append.apply(globalState.cpps,arguments)},all:function(e){(e=e||console.table||console.log)(globalState.cpps.all())}},Storage={get:function(e,t){(t=t||console.log)(globalState.stg.get(e))},all:function(e){e=e||console.table||console.log;var t=globalState.stg.all(),r={};for(var o in t)1!==t[o].d&&(r[o]=t[o]);e(r)}},Cookie={get:function(t,r){r=r||console.log||function(){},_W._fsRequire([_W._fsNormalizeUrl("$fs.compress.js")],function(o){try{return key4CReservedKeyNames.some(function(e){return e===t})?r(t===key4CStorage?JSON.parse(o.decompress(decodeURIComponent(globalState.ckie.getByNestedCookieName(t)))):globalState.ckie.getByNestedCookieName(t)):r(globalState.ckie.getByCookieName(t))}catch(e){console.error("trigger: couldn't read cookie",t)}})}},enableStorage={set:function(t){_W._fsRequire([_W._fsNormalizeUrl("$fs.utils.js")],function(r){try{r.setStorageIsEnabled(t)}catch(e){console.error("storageEnabled: couldn't set storageEnabled value",t)}})}};function exposeAPI(e,t){API.expose("clearState",clearState),API.expose("getConfigFormatted",getConfigFormatted),API.expose("getConfig",getConfig),API.expose("CPPS",CPPS),API.expose("Storage",Storage),API.expose("Cookie",Cookie),API.expose("enableStorage",enableStorage),API.expose("onRecordQualified",globalState.onRecordQualified),API.expose("onProductQualified",globalState.onProductQualified),API.expose("onProductsDisqualified",globalState.onProductsDisqualified),e&&API.expose("runProductQualificationCheck",e),t&&API.expose("isProductCurrentlyQualified",t)}var __exports={},dispose$1=function(){globalState.trigger.trig&&globalState.trigger.trig.dispose()};__exports.dispose=dispose$1;var getState=function(e){(e=e||console.log)(globalState.trigger.state)};__exports.getState=getState;var optOut=function(){var e=_W.location.toString();_W.location=e.indexOf("#")>-1?e+"&fscommand=fsoptout":e+"#fscommand=fsoptout",_W.location.reload()};__exports.optOut=optOut;var test=function(){var e=_W.location.toString();_W.location=e.indexOf("#")>-1?e+"&fscommand=fstest":e+"#fscommand=fstest",_W.location.reload()};__exports.test=test;var pReset=function(){var e=API.retrieveFromAPI("runProductQualificationCheck")("trigger");(globalState.trigger.__apiReady.didFire||e)&&_W._fsRequire([_W._fsNormalizeUrl("$fs.trigger.js")],function(e){globalState.trigger.__apiReady.subscribe(function(){e.API.pReset()},!0,!0)})};__exports.pReset=pReset;var showInvite=function(e){_W._fsRequire([_W._fsNormalizeUrl("$fs.trigger.js")],function(t){globalState.trigger.__apiReady.subscribe(function(){t.API.showInvite(e)},!0,!0)})};__exports.showInvite=showInvite;var suppressInvite=function(){globalState.trigger.state.inviteSuppressed=!0;var e=globalState.trigger.inviteSetup;e&&e.invite&&e.invite.dispose()};__exports.suppressInvite=suppressInvite;var allowInvite=function(){globalState.trigger.state.inviteSuppressed=!1;var e=globalState.trigger.inviteSetup;e&&e.invite&&!e.invite.isPresented&&!e.invite.isAbandoned&&e.invite.present()};__exports.allowInvite=allowInvite;var setFSRVisibility=function(e){e?__exports.allowInvite():__exports.suppressInvite()};__exports.setFSRVisibility=setFSRVisibility;var Journey={addEvent:function(e){globalState.trigger.__apiReady.subscribe(function(){globalState.trigger.jrny.addEvent(e)},!0,!0)},addEventObj:function(e){globalState.trigger.__apiReady.subscribe(function(){globalState.trigger.jrny.addEventObj(e)},!0,!0)},addEventString:function(e){globalState.trigger.__apiReady.subscribe(function(){globalState.trigger.jrny.addEventString(e)},!0,!0)}};function exposeAPI$1(){API.expose("dispose",dispose$1),API.expose("getState",getState),API.expose("optOut",optOut),API.expose("test",test),API.expose("run",pReset),API.expose("pageReset",pReset),API.expose("showInvite",showInvite),API.expose("suppressInvite",suppressInvite),API.expose("allowInvite",allowInvite),API.expose("setFSRVisibility",setFSRVisibility),API.expose("Journey",Journey),API.expose("onLoaded",globalState.trigger.loadedEmitter),API.expose("onInitialized",globalState.trigger.initializedEmitter),API.expose("onInviteShown",globalState.trigger.inviteShownEmitter),API.expose("onInviteAccepted",globalState.trigger.inviteAcceptedEmitter),API.expose("onInviteAbandoned",globalState.trigger.inviteAbandonedEmitter),API.expose("onInviteDeclined",globalState.trigger.inviteDeclinedEmitter),API.expose("onTrackerShown",globalState.trigger.trackerShownEmitter),API.expose("customInvitationRequested",globalState.trigger.customInvitationRequested)}__exports.Journey=Journey;var clearStateFeedback=function(){globalState.feedback.stg&&globalState.feedback.stg.reset()},launchFeedback=function(e){_W._fsRequire([makeURI("$fs.feedback.js"),makeURI("$fs.survey.js")],function(t){globalState.feedback.__apiReady.subscribe(function(){t.API.launchFB(e)},!0,!0)})},resetFeedback=function(){var e=API.retrieveFromAPI("runProductQualificationCheck")("feedback");(globalState.feedback.__apiReady.didFire||e)&&_W._fsRequire([makeURI("$fs.feedback.js")],function(e){globalState.feedback.__apiReady.subscribe(function(){e.API.resetFeedback()},!0,!0)})};function exposeAPI$2(){API.expose("clearStateFeedback",clearStateFeedback),API.expose("launchFeedback",launchFeedback),API.expose("launchACSFeedback",launchFeedback),API.expose("resetFeedback",resetFeedback),API.expose("onFeedbackSubmitted",globalState.feedback.onFeedbackSubmitted),API.expose("onFeedbackReady",globalState.feedback.onFeedbackReady),API.expose("onFeedbackShown",globalState.feedback.onFeedbackShown),API.expose("onFeedbackClosed",globalState.feedback.onFeedbackClosed)}var __exports$1={},bindings={},unloadList=[],_extractEventNS=function(e){var t="default";if(e.indexOf(":")>-1){var r=e.split(":");t=r[0],e=r[1]}return bindings[t]||(bindings[t]={}),bindings[t][e]||(bindings[t][e]=[]),{ns:t,en:e}},Bind=function(e,t,r,o){if(e&&t){if(isArray(t))return void t.forEach(function(t){__exports$1.Bind.call(null,e,t,r,o)});var n=_extractEventNS(t);if(bindings[n.ns][n.en].push({elem:e,cb:r,ub:o||!1}),t.indexOf("unload")>-1&&(e===_W||e===_D))return void unloadList.push(r);e._zone$addEventListener?e._zone$addEventListener(n.en,r,typeof o==typeof!0||null==o?!o:o):e.__zone_symbol__addEventListener?e.__zone_symbol__addEventListener(n.en,r,typeof o==typeof!0||null==o?!o:o):"propertychange"!=n.en&&e.addEventListener?e.addEventListener(n.en,r,typeof o==typeof!0||null==o?!o:o):e.attachEvent&&e.attachEvent("on"+n.en,r)}};__exports$1.Bind=Bind;var BindOnce=function(e,t,r,o){if(e&&t){if(isArray(t))return void t.forEach(function(t){__exports$1.BindOnce.call(null,e,t,r,o)});__exports$1.Bind(e,t,function n(){__exports$1.Unbind(e,t,n,o),r.apply(this,arguments)},o)}};__exports$1.BindOnce=BindOnce;var _runActualUnBind=function(e,t,r,o){t&&(t.parentNode||t.window||9==t.nodeType)&&(t._zone$removeEventListener?t._zone$removeEventListener(e,r,!o):t.__zone_symbol__removeEventListener?t.__zone_symbol__removeEventListener(e,r,!o):"propertychange"!=e&&t.removeEventListener?t.removeEventListener(e,r,!o):t.detachEvent&&t.detachEvent("on"+e,r))};function Unbind(e,t,r,o){var n,i,a,s;if(isArray(t))t.forEach(function(t){__exports$1.Unbind.call(null,e,t,r,o)});else{if(t&&t.indexOf("unload")>-1)for(s=0;s<unloadList.length;s++)if(unloadList[s]==r)return void unloadList.splice(s,1);if(0===arguments.length)for(var l in bindings)__exports$1.Unbind(l+":*"),delete bindings[l];else if("string"==typeof e){if("default"==(n=_extractEventNS(e)).ns){for(var c in bindings)if(hasProp(bindings,c))for(var f in i=bindings[c])if(hasProp(i,f)&&(f==n.en||"*"==n.en))for(s=0;s<i[f].length;s++)a=i[f][s],__exports$1._runActualUnBind(f,a.elem,a.cb,a.ub),i[f].splice(s--,1)}else for(var d in i=bindings[n.ns])if(hasProp(i,d)&&(d==n.en||"*"==n.en))for(s=0;s<i[d].length;s++)a=i[d][s],__exports$1._runActualUnBind(d,a.elem,a.cb,a.ub),i[d].splice(s--,1)}else if(e&&!t){for(var u in bindings)if(hasProp(bindings,u))for(var g in i=bindings[u])if(hasProp(i,g))for(s=0;s<i[g].length;s++)(a=i[g][s]).elem===e&&(__exports$1._runActualUnBind(g,a.elem,a.cb,a.ub),i[g].splice(s--,1))}else if(e&&t)if("default"==(n=_extractEventNS(t)).ns){for(var p in bindings)if(hasProp(bindings,p))for(var _ in i=bindings[p])if(hasProp(i,_)&&(_==n.en||"*"==n.en))for(s=0;s<i[_].length;s++)(a=i[_][s]).elem===e&&(__exports$1._runActualUnBind(_,a.elem,r||a.cb,a.ub),i[_].splice(s--,1))}else for(var v in n=_extractEventNS(t),i=bindings[n.ns])if(hasProp(i,v)&&(v==n.en||"*"==n.en))for(s=0;s<i[v].length;s++)(a=i[v][s]).elem===e&&(__exports$1._runActualUnBind(v,a.elem,r||a.cb,a.ub),i[v].splice(s--,1))}}__exports$1._runActualUnBind=_runActualUnBind,__exports$1.Unbind=Unbind;var _suppressUnload=!1,preventUnloadFlag=!1,HandleUnload=function(){if(!_suppressUnload&&!preventUnloadFlag){for(var t=unloadList.length-1;t>=0;t--)try{unloadList[t].call()}catch(e){}dispose(unloadList),__exports$1.Unbind()}};_D.addEventListener?(_W.addEventListener("beforeunload",HandleUnload,!0),_W.addEventListener("pagehide",HandleUnload,!0),_D.addEventListener("unload",HandleUnload,!0)):_D.attachEvent&&_W.attachEvent("onunload",HandleUnload);var FSEvent=function(){function e(){this.id="_"+Math.round(99999*Math.random()),this.subscriptions=[],this.didFire=!1}var t=e.prototype;return t.subscribe=function(e,t,r){return this.subscriptions.push({once:!!t,cb:e}),r&&this.didFire&&(this.prevArgs?this.fire.apply(this,this.prevArgs):this.fire()),{unsubscribe:(o=this,n=e,function(){o.unsubscribe(n)})};var o,n},t.unsubscribe=function(e){for(var t=0;t<this.subscriptions.length;t++)this.subscriptions[t].cb==e&&(this.subscriptions.splice(t,1),t--)},t.unsubscribeAll=function(){this.subscriptions=[]},t.fire=function(){this.didFire=!0,this.prevArgs=arguments;for(var e=0;e<this.subscriptions.length;e++){var t=this.subscriptions[e];t.once&&this.subscriptions.splice(e--,1),t.cb.apply(this,arguments)}},t.chain=function(t,r,o){t&&t.constructor===e&&t.subscribe(function(){this.fire.apply(this,arguments)}.bind(this),r,o)},e}(),pageNavEvent=new FSEvent;if(history&&history.pushState){_W.addEventListener("popstate",function(){_suppressUnload||pageNavEvent.fire()});var oldpush=history.pushState;history.pushState=function(){oldpush.apply(history,arguments),_suppressUnload||pageNavEvent.fire()}}var storageTypes={CK:"COOKIE",MC:"MICROCOOKIE",CL:"COOKIELESS",DS:"DOMSTORAGE",CK_Hybrid:"HYBRID",MC_Hybrid:"MICRO_HYBRID"},setUnidentifiedUserAgentCpp=function(e,t){if("Other"===e.os.name||"Unknown"===e.os.name){var r=navigator.userAgent;t.set("unidentifiedUserAgentString",r)}},__exports$2={};function _checkAbandonRetry(e,t){var r=e.get("i");return"a"!==r?r:parseInt(e.get("rw"),10)<t?(e.erase("i"),e.erase("rw"),null):r}function _checkBrainFailureRetry(e,t){var r=e.get("i");return"f"!==r?r:parseInt(e.get("fw"),10)<t?(e.erase("i"),e.erase("fw"),null):r}function _loadSystemDefinedCPPs(e,t,r){var o=r.getScreenResolution,n=r.getSize,globalConfig=getVendorConfig("fs");e.set("code",globalConfig.codeVer),e.set("tz",-(new Date).getTimezoneOffset()),e.set("product_type","web sdk");var i=o();if(e.set("device_width",i.w),e.set("device_height",i.h),e.set("dpr",_W.devicePixelRatio||1),t.isMobile)e.set("window_width",i.w),e.set("window_height",i.h);else{var a=n(_W);e.set("window_width",a.w),e.set("window_height",a.h)}setUnidentifiedUserAgentCpp(t,e)}function _loadCPPsForFirstPageView(e,t,r){var o=r.getRootDomain,n=r.INT,globalConfig=getVendorConfig("fs"),i=globalConfig.adobeRsid,a={browser:t.browser.name+" "+t.browser.version,os:t.os.name,referrer:_D.referrer.toString(),site:o(),sitekey:globalConfig.siteKey||""};for(var s in a)hasProp(a,s)&&e.set(s,a[s]);n.GA.uid(function(t){t&&e.set("GA_UID",t)});var l=function(t){e.set(t.name,t.value)};n.OM.uid(i,l),n.OM.mcid(i,l),n.OM.beacon(function(t){e.set("OMTR_BEACON",t)})}function _loadUserDefinedCPPs(e,t,r){var o=r.retrieveNestedVariable,n=r.testAgainstSearch,i=r.Cookie;if(t.config.cpps){var a=t.config.cpps;for(var s in a){var l=a[s];if(isObject(l)){var c=l.source,f=l.name||l.val,d=void 0;switch(c){case"param":d=isDefined(f)&&getParam(f)||null;break;case"variable":d=isDefined(f)&&o(_W,f)||null;break;case"cookie":d=isDefined(f)&&(new i).getByCookieName(f);break;case"url":for(var u=0;u<l.patterns.length;u++){var g=l.patterns[u].regex||l.patterns[u].match;isString(_W.location.href)&&n(g,_W.location.href)&&(d=isDefined(l.patterns[u].value)?l.patterns[u].value:_W.location.href)}break;default:throw new Error("Unknown CPP source: "+c)}var p="url"!==c&&l.exists&&isDefined(l.exists.success)?l.exists.success:null;if(isDefined(p)&&e.get(s)!==p){var _=isDefined(l.exists.init)?l.exists.init:null;d=d?p:_}var v=isDefined(l.init)?l.init:"";if(l.mode&&"append"===l.mode){var b=l.lengthLimit||!1,h=!isDefined(l.preventRepeated)||l.preventRepeated,m=l.delimiter||",";e.append(s,isDefined(d)?d:v,b,h,m)}else isDefined(d)?e.set(s,d):isDefined(e.get(s))||e.set(s,v)}else e.set(s,l)}}}function _triggerAdminOverride(e,t){var r;if(e.get("ovr")&&(r=JSON.parse(e.get("ovr"))),r){for(var o=0;o<t.surveydefs.length;o++){var n=t.surveydefs[o].name;r.sp[n]&&(t.surveydefs[o].criteria.sp=r.sp[n]),r.lf[n]&&(t.surveydefs[o].criteria.lf=r.lf[n])}!0===r.pooloverride&&(t.__pooloverride=!0)}}function triggerPreload(e){var t=e.stg,r=e.config,o=e.browser,n=e.utils,i=new(0,n.CPPS)(t,r.config.cppsResetTimeout);delete r.__foundDefinition,delete r.__hasTracker,delete r.__canDisplayInvitation,delete r.__defaultSamplingPassed,delete r.__mouseoffSamplingPassed,delete r.__pooloverride,__exports$2._checkAbandonRetry(t,n.now()),__exports$2._checkBrainFailureRetry(t,n.now()),__exports$2._loadSystemDefinedCPPs(i,o,n),t.get("pv")||__exports$2._loadCPPsForFirstPageView(i,o,n),__exports$2._loadUserDefinedCPPs(i,r,n),__exports$2._triggerAdminOverride(t,r)}__exports$2._checkAbandonRetry=_checkAbandonRetry,__exports$2._checkBrainFailureRetry=_checkBrainFailureRetry,__exports$2._loadSystemDefinedCPPs=_loadSystemDefinedCPPs,__exports$2._loadCPPsForFirstPageView=_loadCPPsForFirstPageView,__exports$2._loadUserDefinedCPPs=_loadUserDefinedCPPs,__exports$2._triggerAdminOverride=_triggerAdminOverride;var __exports$3={};function feedbackPreload(e){var t=e.stg,r=e.config,o=e.browser,n=e.utils.CPPS,i=ext({browserCutoff:{Edge:1,IE:11,IEMobile:10,Safari:5.2,Firefox:30,Chrome:30,Opera:1e3},platformCutoff:{Android:5,Winphone:7.4,iPod:11,iPhone:11,iPad:11}},r);ext(r,i);for(var a=0;a<r.instances.length;a++){delete r.instances[a].__didpass}__exports$3._loadSystemDefinedCPPs(t,o,n)}function _loadSystemDefinedCPPs$1(e,t,r){var o=new r(e);setUnidentifiedUserAgentCpp(t,o)}function triggerBrowserCheck(e){var t=e.browser,r=e.config,o=e.stg;return!(!(0,e.utils.isTrackerAlive)(o)&&!t.isMobile&&r.config.browserCutoff[t.browser.name]&&t.browser.actualVersion<r.config.browserCutoff[t.browser.name])}function triggerCookieDomain(e){var t=e.stg,globalConfig=getVendorConfig("fs");return null!==t.selectCookieDomain(globalConfig.cookieDomain,window.location.toString())}__exports$3._loadSystemDefinedCPPs=_loadSystemDefinedCPPs$1;var __exports$4={};function triggerCriteriaCheck(e){var t=e.stg,r=e.browser,o=e.config,n=e.utils,i=n.CPPS,a=n.TriggerCriteria,s=n.findSurveyDefinition,l=n.isTrackerAlive,c=n.now,f=t.get("i");if("a"===f)return!1;var d=new i(t,o.config.cppsResetTimeout),u=new a(t,o,d,r);"x"!==f&&u.incrementGeneralPageViewCount();var g=s(o,u,t,r);if(!g)return!1;if(o.__foundDefinition=g,"x"!==f){var p=__exports$4._initLocale(o.__foundDefinition.def,n);d.set("locale",p),u.incrementPageViewCountForDefinition(g.def),r.isMobile||r.isTablet||!g.def.mouseoff||"off"===g.def.mouseoff.mode||1!=t.get("pv")||t.set("sst",c())}if("x"===f){var _=t.get("mhbi"),v=l(t);if(_||v)return o.__hasTracker=!0,!0}var b=!1,h=!1;u._match(o.config,r,"inviteBlacklist")?g.def.inviteBlacklist&&u.runAllTests(g.def.inviteBlacklist,r,!1,!0)&&(h=!0):b=!0;var m=u.getFittingDisplay(g.def),S="SHORTSURVEY"===m.inviteType&&m.shortSurvey,y=S&&m.shortSurvey.idleViewsBeforeStop&&m.shortSurvey.idleViewsBeforeStop>0,P=y&&u.getShortSurveyOptions(g.def,m),C=!S||!y||P,k=P&&m.shortSurvey.idleViewsShowConsecutively&&P.presentedCount>=1&&P.presentedCount<=m.shortSurvey.idleViewsBeforeStop;o.__defaultSamplingPassed=k||u.evalLoyaltySampling(g.def,"criteria"),o.__mouseoffSamplingPassed=t.get("sst")&&u.evalLoyaltySampling(g.def,"mouseoff");var w=o.__defaultSamplingPassed||o.__mouseoffSamplingPassed;return o.__canDisplayInvitation=!b&&!h&&C&&w,!!o.__canDisplayInvitation}function _initLocale(e,t){var r,o,n=t.Cookie,i=t.retrieveNestedVariable,a=e.language;if(isDefined(a.src)&&isDefined(a.locales)){switch(a.src){case"variable":isDefined(a.name)&&(o=i(window,a.name));break;case"cookie":if(isDefined(a.name))o=new n({}).getByCookieName(a.name);break;case"url":var s=a.locales;if(isDefined(s))for(var l=0,c=s.length;l<c;l++)if(isDefined(s[l].locale)&&isDefined(s[l].match)&&location.href.match(s[l].match))return r=s[l].locale,s[l].criteria&&ext(e.criteria,s[l].criteria),r!==e.language.locale&&(e.language.locale=r),s[l].locale;break;default:throw new Error("Unknown locale src: "+a.src)}if(o)for(var f=0;f<a.locales.length;f++)if(a.locales[f].match==o)return a.locale=a.locales[f].locale,a.locales[f].criteria&&ext(e.criteria,a.locales[f].criteria),a.locale}return a.locale||"en"}function triggerDeviceBlacklistCheck(e){for(var t=e.browser,r=e.config,o=e.stg,n=e.utils.isTrackerAlive,i=0;i<r.config.deviceBlacklist.length;i++)if(!n(o)&&toLowerCase(t.agent).indexOf(toLowerCase(r.config.deviceBlacklist[i]))>-1)return!1;return!0}function triggerEnvironmentCheck(e){var t=e.config,r=_W!=_W.top;return!(("dontRunOtherIframes"===t.config.workInIframes||!t.config.workInIframes)&&r)}function triggerFeatureCheck(e){var t=e.browser,r=e.config,o=e.stg;return!(!(0,e.utils.isTrackerAlive)(o)&&r.config.persistence==storageTypes.DS&&!t.supportsLocalStorage)}function triggerGlobalExclude(e){var t=e.stg,r=e.browser,o=e.config,n=e.utils,i=n.CPPS,a=n.TriggerCriteria;return"y"!==t.get("gx")&&(!!new a(t,o,new i(t,o.config.cppsResetTimeout),r)._match(o.config,r,"triggerBlacklist")||(t.set("gx","y"),!1))}function triggerInviteSituation(e){var t=e.stg.get("i");return"d"!=t&&"f"!=t}function triggerOptoutCheck(e){return!0!==e.stg.get("optout")}function triggerPlatformCheck(e){var t=e.browser,r=e.config,o=e.stg;return!(!(0,e.utils.isTrackerAlive)(o)&&r.config.platformCutoff[t.os.name]&&t.os.version<r.config.platformCutoff[t.os.name])}function feedbackParametersCheck(e){var t=e.config,r=!!(0,e.utils.getHashParm)("previewmode"),o=!!getParam("previewbadgemode");return!!(t.instances||r||o)}function feedbackPlatformCheck(e){var t=e.config,r=e.browser,o=!!(0,e.utils.getHashParm)("previewmode"),n=!!getParam("previewbadgemode");if(o||n)return!0;var i=t.browserCutoff[r.browser.name]&&r.browser.actualVersion<t.browserCutoff[r.browser.name],a=t.platformCutoff[r.os.name]&&r.os.version<t.platformCutoff[r.os.name];return!i&&!a}function feedbackTopicsCheck(e){for(var t=e.config,r=e.utils.checkFeedbackTopicAllowed,o=t.instances,n=!1,i=0;i<o.length;i++){var a=o[i];if(r(a))if(a.topics&&a.topics.length){for(var s=0;s<a.topics.length;s++)if(r(a.topics[s])){a.__didpass=!0,a.disabled||(n=!0);break}}else a.topics&&0===a.topics.length&&!a.disabled&&(n=!0)}return n}__exports$4._initLocale=_initLocale;var rules={trigger:[triggerBrowserCheck,triggerDeviceBlacklistCheck,triggerFeatureCheck,triggerGlobalExclude,triggerPlatformCheck,triggerCookieDomain,triggerEnvironmentCheck,triggerInviteSituation,triggerOptoutCheck,triggerCriteriaCheck],feedback:[feedbackPlatformCheck,feedbackParametersCheck,feedbackTopicsCheck]},__exports$5={__utilsModule:null},fsrd="fsReady",productDependencies={feedback:["$fs.feedback.js","$fs.survey.js"],trigger:["$fs.trigger.js"]},productPreload={trigger:triggerPreload,feedback:feedbackPreload},productAPIs={trigger:exposeAPI$1,feedback:exposeAPI$2};function getEnabledProducts(){var globalConfig=getVendorConfig("fs"),e=getVendorProducts("fs");globalConfig.products=globalConfig.products?globalConfig.products:{},eachProp({feedback:!0,trigger:!0},function(t,r){t&&!e[r]&&(globalConfig.products[r]=!1)});var t=[];return eachProp(e,function(e,r){globalConfig.products[r]&&t.push(r)}),t}function getQualifiedProducts(e){var t=[locator.normalizeUrl("$fs.utils.js"),locator.normalizeUrl("$fs.compress.js")];_fsRequire(t,function(t){var r=t.pageNavEvent,o=t.storageTypes,n=t._brainStorage;initializeGlobalState(t),__exports$5.__utilsModule=t,globalState.browser.ready.subscribe(function(){globalState.stg.ready.subscribe(function(){runStorageUpgradeIfNeeded(globalState.stg,o,n,function(){exposeAPI(runProductQualificationCheck,isProductCurrentlyQualified,globalState.cpps),eachProp(e,function(e){productAPIs[e]()}),"function"==typeof globalState.qamodeCallback&&(globalState.qamodeCallback(globalState.cpps),delete globalState.qamodeCallback),__exports$5._runProductsQualification(e),r.subscribe(function(){__exports$5._runProductsQualification(e)},!1,!1)})},!0,!0)},!0,!0)})}function runProductQualificationCheck(e){var t=rules[e]||[],r=getProductConfig("fs",e),o={stg:globalState.stg,browser:globalState.browser,utils:__exports$5.__utilsModule,config:r};"function"==typeof productPreload[e]&&productPreload[e](o);for(var n=0;n<t.length;n++){var i=t[n];if("function"==typeof i&&!i(o)){__exports$5.setDisqualificationState(i);var a=__exports$5.currentlyQualifiedProducts.indexOf(e);return~a&&__exports$5.currentlyQualifiedProducts.splice(a,1),!1}}return~__exports$5.currentlyQualifiedProducts.indexOf(e)||__exports$5.currentlyQualifiedProducts.push(e),!0}function setDisqualificationState(e){"triggerBrowserCheck"===e.name||"triggerDeviceBlacklistCheck"===e.name||"triggerFeatureCheck"===e.name||"triggerGlobalExclude"===e.name||"triggerPlatformCheck"===e.name?__exports$5.disqualifieds.trigger=!0:"feedbackPlatformCheck"===e.name&&(__exports$5.disqualifieds.feedback=!0)}function _handleDisqualificationEvent(e){-1===e.indexOf("feedback")&&(__exports$5.disqualifieds.feedback=!0),-1===e.indexOf("trigger")&&(__exports$5.disqualifieds.trigger=!0),__exports$5.disqualifieds.feedback&&__exports$5.disqualifieds.trigger&&globalState.onProductsDisqualified.fire()}function isProductCurrentlyQualified(e){return!!~__exports$5.currentlyQualifiedProducts.indexOf(e)}function _runProductsQualification(e){if(fsCmd("fstest"))_fsRequire([locator.normalizeUrl("$fs.svadmin.js")],function(){});else if(fsCmd("fsoptout"))_fsRequire([locator.normalizeUrl("$fs.optout.js")],function(){});else{for(var t=[],r=0;r<e.length;r++){var o=e[r];~__exports$5.loadedProducts.indexOf(o)||__exports$5.runProductQualificationCheck(o)&&(t.push(o),__exports$5.loadedProducts.push(o))}__exports$5._handleDisqualificationEvent(e),__exports$5._loadQualifiedProducts(t)}}function _loadQualifiedProducts(e){var t=["$fs.utils.js","$fs.compress.js"],r=["record"];e.some(function(e){return!~r.indexOf(e)})&&globalState.onProductQualified.fire();for(var o=0;o<e.length;o++){var n=e[o];t=t.concat(productDependencies[n])}for(var i=0;i<t.length;i++)t[i]=locator.normalizeUrl(t[i]);_fsRequire(t,_handleLoadedProductModules)}function _handleLoadedProductModules(){if(!_W["__"+fsrd+"__"]){var globalConfig=getVendorConfig("fs"),e=Object.keys(globalConfig.products),t=0===e.length||e.some(function(e){return!0===globalConfig.products[e]});t||console.warn("FSR API unavailable"),_W["__"+fsrd+"__"]=_W.__acsReady__=_W.fsReady=_W.acsReady=function(){if(t){var e=arguments;nextTick(function(){for(var t=0;t<e.length;t++)isFunction(e[t])&&e[t].call(_W)})}};var r=_W["__"+fsrd+"_stk__"],o=function(e){return function(){if(t)for(var r=0;r<e.length;r++)e[r].call(_W)}};if(r){for(var n=0;n<r.length;n++)nextTick(o(r[n]));delete _W["__"+fsrd+"_stk__"]}}}function defaultGatewayBehavior(){var e=__exports$5.getEnabledProducts();__exports$5.getQualifiedProducts(e)}function dataModuleGatewayBehavior(e){nextTick(function(){_fsRequire([_fsNormalizeUrl(e)],function(){})})}__exports$5.loadedProducts=[],__exports$5.currentlyQualifiedProducts=[],__exports$5.disqualifieds={feedback:!1,trigger:!1},__exports$5.getEnabledProducts=getEnabledProducts,__exports$5.getQualifiedProducts=getQualifiedProducts,__exports$5.runProductQualificationCheck=runProductQualificationCheck,__exports$5.setDisqualificationState=setDisqualificationState,__exports$5._handleDisqualificationEvent=_handleDisqualificationEvent,__exports$5._runProductsQualification=_runProductsQualification,__exports$5._loadQualifiedProducts=_loadQualifiedProducts,__exports$5._handleLoadedProductModules=_handleLoadedProductModules;var __exports$6={};function createBootSDK(e){return function(){if((void 0===_W.opera||"[object Opera]"!==_W.opera.toString())&&_W.JSON&&!(_D.documentMode<10)){if(void 0!==_W._fsAlreadyBootedSDK)return console.error("Foresee WebSDK detected its embed code ran more than once."),void console.error("This is a serious problem, please contact support.");_W._fsAlreadyBootedSDK=!0,domReady(e)}}}function createDOMReady(e){return function(){nextTick(function(){var t,r,o,globalConfig=getVendorConfig("fs");locator.gwScript&&(t=attr(locator.gwScript,"data-module"),r="true"==attr(locator.gwScript,"data-isselfhosted"),globalConfig.selfHosted||(globalConfig.selfHosted=r),(o=attr(locator.gwScript,"data-config"))&&ext(globalConfig,(o=JSON.parse(atob(o))).global)),e(t,o)})}}var finalSetup=function(e){var globalConfig=getVendorConfig("fs"),t=getVendorProducts("fs");dynamicConfigReplacer(globalConfig),dynamicConfigReplacer(t),e?e&&dataModuleGatewayBehavior(e):defaultGatewayBehavior()};function ensureReadyAPI(){var e="fsReady",t="acsReady";if(isDefined(_W[t])&&(_W[e]=_W[t]),!isDefined(_W[e])){var r="__fsReady_stk__";_W[e]=function(){_W[r]=_W[r]||[],_W[r].push(arguments)}}_W[t]=_W[e]}function initialize(e){__exports$6.ensureReadyAPI(),locator.locateGW(),shouldLoadQAMode()?_fsRequire([_fsNormalizeUrl("$fs.qamode.js")],function(t){t.load(e,locator)}):e()}function finishSelfHost(e,t){var globalConfig=getVendorConfig("fs"),r=JSON.parse(t);r.global=r.global||{},r.global.selfHosted=globalConfig.selfHosted,r.global.siteKey=globalConfig.siteKey,r.global.codeVer=globalConfig.codeVer,r.global.gateway=globalConfig.gateway,r.global.configLocation=globalConfig.configLocation,setVendorConfig("fs",r.global),delete r.global,globalConfig=getVendorConfig("fs"),eachProp(r,function(e,t){globalConfig.products[t]&&setProductConfig("fs",t,e)}),finalSetup(e)}function finalSetupOnprem(e,t){var globalConfig=getVendorConfig("fs");if(globalConfig.selfHosted&&!t){var r=[locator.normalizeUrl("$fs.utils.js"),locator.normalizeUrl("$fs.sanitize.js")];_fsRequire(r,function(t,r){var o=new t.SeshStorage(globalConfig.siteKey+"_"+locator.environment,!1),n=o.get("setts");if(n)finishSelfHost(e,n);else{var i=""+(0!=globalConfig.configLocation.indexOf("/")?location.protocol+"//":"")+globalConfig.configLocation+"/"+locator.environment+"/config.json";(new t.AjaxTransport).send({method:"GET",url:i,success:function(t){t&&r.checkIntegrity(t).then(function(r){r?(o.set("setts",t),o.commit(),finishSelfHost(e,t)):(console.error("ForeSee WebSDK failed integrity code check on config.json."),console.error("Please contact ForeSee support for an updated integrity code."))}).catch(function(e){})}})}})}else finalSetup(e)}__exports$6.ensureReadyAPI=ensureReadyAPI;var onDOMReady=createDOMReady(finalSetupOnprem),bootSDK=createBootSDK(onDOMReady);initialize(bootSDK);
    })();